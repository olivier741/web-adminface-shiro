<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" xmlns:adm="http://github.com/adminfaces"
                template="#{layoutMB.template}">
    
    <ui:define name="title">
       Change Password of User : #{logonMB.currentUser}
    </ui:define>

    <ui:define name="body">

        <p:panel styleClass="card box-info" >

            <h:form>

                <p:panelGrid columns="3" columnClasses="ui-grid-col-2,ui-grid-col-2, ui-grid-col-4" layout="grid">

                    <p:outputLabel for="curPassword" value="Current Password *"/>
                    <p:password value="#{managePwdMB.curPass}" required ="true"
                                           requiredMessage="Your must enter your current password."
                                           validatorMessage="Incorrect password."
                                           validator="#{managePwdMB.validateCurPass}"
                                           id="curPassword">
                            <f:attribute name="login" value="#{logonMB.currentUser}" />
                    </p:password>
                          
                    <p:message id="msgPassword" for="curPassword"/>

     
                    <p:outputLabel for="newPassword1" value="New Password *"/>
                    <p:password  value="#{managePwdMB.newPass1}" required ="true"
                                                binding="#{managePwdMB.newPass1UI}"
                                                requiredMessage="Your must enter a new password."
                                                validatorMessage="New passwords do not match."
                                            id="newPassword1"/>
                    <p:message id="msgPassword1" for="newPassword1"/>

                    <p:outputLabel for="newPassword2" value="Confirm New Password *"/>
                    <p:password value="#{managePwdMB.newPass2}" required ="true"
                                            requiredMessage="Your must enter a new password."
                                            validatorMessage="New passwords do not match."
                                            validator="#{managePwdMB.validateNewPass}"
                                            id="newPassword2"/>
                    <p:message id="msgPassword2" for="newPassword2"/>

                    <p:commandButton value="Change Password" action="#{managePwdMB.changePwd}" update="@form" id="cmdBtn" styleClass="btn-primary"/>

                 </p:panelGrid>
            </h:form>
        </p:panel>
    </ui:define>

</ui:composition>